(this["webpackJsonpreddit-app"]=this["webpackJsonpreddit-app"]||[]).push([[0],{39:function(e,t,n){},48:function(e,t,n){},56:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(24),s=n.n(c),i=(n(48),n.p+"static/media/logo.b2e5a01e.svg"),o=(n(39),n(10)),d=n(15),l=Object(d.c)({name:"searchTerm",initialState:{searchTerm:""},reducers:{setSearchTerm:function(e,t){e.searchTerm=t.payload}}}),j=function(e){return e.searchTerm.searchTerm},u=l.actions.setSearchTerm,m=l.reducer,b=n(25),h=n(14),p=n(20),x=n(1);function O(){var e=Object(o.b)(),t=Object(o.c)(j);return Object(x.jsxs)(p.a,{className:"search-bar",children:[Object(x.jsx)(h.a,{children:Object(x.jsx)("input",{id:"search-input",value:t,name:"searchText",onChange:function(t){var n=t.target.value;e(u(n))},placeholder:"search"})}),Object(x.jsx)(h.a,{children:Object(x.jsx)(b.a,{className:"clear-search",variant:"secondary",onClick:function(){e(u(""))},children:"Clear"})})]})}function f(){return Object(x.jsx)("header",{className:"App-header",children:Object(x.jsxs)(p.a,{className:"w-100 align-items-center",children:[Object(x.jsx)(h.a,{children:Object(x.jsx)("img",{src:i,className:"App-logo",alt:"logo"})}),Object(x.jsx)(h.a,{children:Object(x.jsx)(O,{})})]})})}var v=n(43),g={popular:"https://www.reddit.com/r/popular.json",gaming:"https://www.reddit.com/r/gaming.json",trashy:"https://www.reddit.com/r/trashy.json",base:"https://www.reddit.com/r"},w={margin:"10px 10px 0 10px"};function y(e){var t=e.comment;return"t1"===t.kind?Object(x.jsx)("div",{style:w,dangerouslySetInnerHTML:{__html:W(t.data.body_html)}}):null}var T=n(16),L=n.n(T),C=n(17),k=function(){var e=Object(C.a)(L.a.mark((function e(t){var n,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(g.base+t+".json");case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(C.a)(L.a.mark((function e(t){var n,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=Object(d.b)("comments/loadComments",function(){var e=Object(C.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),N=Object(d.c)({name:"comments",initialState:{comments:{},isLoadingComments:!1,commentsFailed:!1},extraReducers:function(e){e.addCase(F.pending,(function(e){e.isLoadingComments=!0,e.commentsFailed=!1})).addCase(F.fulfilled,(function(e,t){e.isLoadingComments=!1,e.commentsFailed=!1;var n=t.payload[0].data.children[0].data.id,a=t.payload[1].data.children,r=a.length;e.comments[n]={comments:a,count:r,visible:!1}})).addCase(F.rejected,(function(e){e.isLoadingComments=!1,e.commentsFailed=!0}))}}),_=function(e){return e.comments.comments},I=function(e){return e.comments.isLoadingComments},P=function(e){return e.comments.commentsFailed},H=N.reducer,M=n(11),E=n(38),B=n(26);function R(e){var t=e.article,n=Object(o.b)(),r=Object(o.c)(_),c=Object(o.c)(I),s=Object(o.c)(P),i=Object(a.useState)(!1),d=Object(v.a)(i,2),l=d[0],j=d[1];return Object(a.useEffect)((function(){var e=t.permalink.slice(0,-1);e=g.base.slice(0,-2)+e+".json",n(F(e))}),[n,t]),c||!r[t.id]?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h6",{children:"Comments..."}),Object(x.jsx)(B.a,{animation:"border",variant:"secondary",size:"sm"})]}):s?null:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(M.a.Text,{children:Object(x.jsx)(b.a,{onClick:function(){j(!l)},variant:"primary",children:Object(x.jsxs)("div",{children:["Comments [",r[t.id].count,"]"]})})}),l&&Object(x.jsx)(E.a,{className:"text-md-justify",children:r[t.id].comments.map((function(e){return Object(x.jsx)(E.a.Item,{children:Object(x.jsx)(y,{comment:e})},e.data.id)}))})]})}function A(e){var t=e.subR,n=e.title,a=e.text,r=e.article,c=void 0!==r.preview;return Object(x.jsxs)(M.a,{children:[Object(x.jsx)(M.a.Header,{children:z(t)?Object(x.jsx)("div",{dangerouslySetInnerHTML:{__html:t}}):Object(x.jsx)("div",{children:t})}),Object(x.jsxs)(M.a.Body,{children:[Object(x.jsx)(M.a.Title,{children:z(n)?Object(x.jsx)("div",{dangerouslySetInnerHTML:{__html:n}}):Object(x.jsx)("div",{children:n})}),c&&Object(x.jsx)(M.a.Img,{style:{maxWidth:"80vh",maxHeight:"80vh"},variant:"top",src:r.preview.images[0].source.url.replace("amp;s","s").replace("&amp;","&"),alt:"article preview"}),Object(x.jsx)(M.a.Text,{className:"text-center",children:(z(a),Object(x.jsx)("div",{dangerouslySetInnerHTML:{__html:W(a)}}))}),Object(x.jsx)(M.a.Body,{children:Object(x.jsx)(R,{article:r})}),Object(x.jsx)(M.a.Subtitle,{children:Object(x.jsxs)("div",{children:["Ups: ",r.ups]})})]})]},r.id)}function W(e){var t=document.createElement("div");return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue}function z(e){var t=document.createElement("div");t.innerHTML=e;for(var n=t.childNodes,a=n.length;a--;)if(1===n[a].nodeType)return!0;return!1}function J(e,t,n){var a=e.data.title,r=e.data.subreddit,c=e.data.selftext_html;switch(n){case"Title":a=$(e.data.title,t);break;case"Subreddit":r=$(e.data.subreddit,t);break;case"Text":c=$(e.data.selftext_html,t)}return Object(x.jsx)("div",{children:Object(x.jsx)(A,{subR:r,title:a,text:c,article:e.data})},e.data.id)}function $(e,t){return e.replace(new RegExp(t,"i"),'<span id="mark">$&</span>')}var G=Object(d.b)("posts/loadPosts",function(){var e=Object(C.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),U=Object(d.c)({name:"posts",initialState:{articles:[],isLoadingPosts:!1,postsFailed:!1},extraReducers:function(e){e.addCase(G.pending,(function(e){e.isLoadingPosts=!0,e.postsFailed=!1})).addCase(G.fulfilled,(function(e,t){var n=t.payload.data.children;e.articles=n,e.isLoadingPosts=!1,e.postsFailed=!1})).addCase(G.rejected,(function(e){e.isLoadingPosts=!1,e.postsFailed=!0}))}}),V=function(e){return e.posts.articles},q=function(e){return e.posts.isLoadingPosts},D=U.reducer,K={PostList:{md:{span:9,order:"first"}}};function Q(e){var t=e.match,n=Object(o.b)(),r=Object(o.c)(V),c=Object(o.c)(q),s=Object(o.c)(j);return"/"===t.path&&(t.path="/popular"),Object(a.useEffect)((function(){n(G(t.path)),n(u(""))}),[n,t]),c?Object(x.jsxs)(h.a,{md:K.PostList.md,children:[Object(x.jsx)("h2",{children:"Loading..."}),Object(x.jsx)(B.a,{animation:"border",variant:"secondary"})]}):Object(x.jsx)(h.a,{md:K.PostList.md,children:r.map((function(e){return function(e,t){if(""===t)return J(e,t,"default");var n=t.toLowerCase();return e.data.title.toLowerCase().includes(n)?J(e,t,"Title"):e.data.subreddit.toLowerCase().includes(n)?J(e,t,"Subreddit"):e.data.selftext.toLowerCase().includes(n)?J(e,t,"Text"):null}(e,s)}))})}var X=n(7),Y=n(21),Z={popular:"/popular",gaming:"/gaming",trashy:"/trashy"},ee=n(23);n(56);function te(){return Object(x.jsx)("main",{children:Object(x.jsxs)(p.a,{children:[Object(x.jsx)(ne,{}),Object(x.jsxs)(X.c,{children:[Object(x.jsx)(X.a,{exact:!0,path:"/",component:Q}),Object(x.jsx)(X.a,{path:Z.popular,component:Q}),Object(x.jsx)(X.a,{path:Z.gaming,component:Q}),Object(x.jsx)(X.a,{path:Z.trashy,component:Q})]})]})})}function ne(){return Object(x.jsx)(h.a,{children:Object(x.jsx)(M.a,{children:Object(x.jsxs)(M.a.Body,{children:[Object(x.jsx)(M.a.Title,{children:Object(x.jsx)("h5",{children:"Subreddits:"})}),Object(x.jsx)(ae,{})]})})})}function ae(){return Object(x.jsxs)(ee.a,{children:[Object(x.jsx)(ee.a.Item,{as:"p",children:Object(x.jsx)(Y.b,{to:Z.popular,children:"Popular"})}),Object(x.jsx)(ee.a.Item,{as:"p",children:Object(x.jsx)(Y.b,{to:Z.gaming,children:"Gaming"})}),Object(x.jsx)(ee.a.Item,{as:"p",children:Object(x.jsx)(Y.b,{to:Z.trashy,children:"Trashy"})})]})}n(63);var re=n(42);var ce=function(){return Object(x.jsx)(Y.a,{children:Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)(re.a,{children:[Object(x.jsx)(f,{}),Object(x.jsx)(te,{})]})})})},se=Object(d.d)({serializableCheck:!1}),ie=Object(d.a)({reducer:{posts:D,comments:H,searchTerm:m},middleware:se});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(o.a,{store:ie,children:Object(x.jsx)(ce,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[64,1,2]]]);
//# sourceMappingURL=main.72994611.chunk.js.map